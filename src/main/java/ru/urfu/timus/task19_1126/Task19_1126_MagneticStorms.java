package ru.urfu.timus.task19_1126;

import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.util.ArrayDeque;
import java.util.Deque;

public class Task19_1126_MagneticStorms {
    public static void main(String[] a) throws Exception {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        int M = Integer.parseInt(br.readLine().trim());

        Deque<int[]> dq = new ArrayDeque<>();
        StringBuilder out = new StringBuilder();
        String s;
        int i = 0;
        while ((s = br.readLine()) != null) {
            int x = Integer.parseInt(s.trim());
            if (x == -1) break;

            while (!dq.isEmpty() && dq.peekFirst()[1] <= i - M) {
                dq.pollFirst();
            }
            while (!dq.isEmpty() && dq.peekLast()[0] <= x) {
                dq.pollLast();
            }

            dq.addLast(new int[]{x, i});

            if (i >= M - 1) {
                out.append(dq.peekFirst()[0]).append('\n');
            }

            i++;
        }

        System.out.print(out);
    }
}

/*
1126. Магнитные бури
Ограничение времени: 0.5 секунды
Ограничение памяти: 64 МБ
Руководство нашего детского сада решило проявить заботу о здоровье детей и не выпускать их на улицу во время
 магнитных бурь. Были заказаны специальные приборы, которые каждую секунду измеряли уровень напряжённости
 магнитного поля, и отображали его на экране. Если показания прибора превышали какой-то определённый уровень,
 то детей заводили в помещение, надеясь хоть как-то спасти их от вездесущего магнитного поля. Это очень не
 нравилось детям, так как им не давали доиграть и очень не нравилось нянечкам, так как детей приходилось
 раздевать и одевать по много раз.
Но через некоторое время стало ясно, что показания прибора можно пытаться предсказывать, так как длинные
периоды спокойствия чередовались с короткими периодами множества резких пиков. (Это и называется магнитной
бурей). Поэтому была заказана модификация этих приборов.
Теперь приборы должны помнить ситуацию за последние несколько часов и показывать не текущую активность, а
максимальный уровень активности за это время. Если в течение 6 часов активность была низкой, то считалось,
что магнитное поле успокоилось, детей выводили на прогулку и гуляли все положенное время, иначе была высока
вероятность новых пиков, и детей не выводили вовсе.
Ваша задача — написать программу для модифицированной версии прибора. Собственно вам нужно решить только
основную задачу модификации, все остальное уже сделано до вас.
Вам дано M — это количество секунд, в течение которых надо помнить и отображать пиковое значение, а также
после­дова­тельность замеров. Каждый замер — это число в диапазоне от 0 до 100000.
Необходимо вывести последовательность, отображаемую на экране прибора. Первое число этой после­дова­тельности
 является максимумом из первых M чисел входной после­дова­тельности, второе — максимум из чисел с номерами
  2, …, M+1 и так далее.
Надеемся, что новые приборы с вашей программой не подведут нянечек и дети больше не будут гулять во время
магнитных бурь.
Исходные данные
В первой строке стоит число 2 ≤ M ≤ 14000, далее стоят показания прибора (N целых чисел) по одному в строке.
В самом конце стоит число −1 — это признак конца входных данных. M ≤ N ≤ 25000.
Результат
Выведите показания прибора по одному в строке.
Пример: https://acm.timus.ru/problem.aspx?space=1&num=1126
 */